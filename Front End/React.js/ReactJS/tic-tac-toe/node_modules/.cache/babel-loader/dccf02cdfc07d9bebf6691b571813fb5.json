{"ast":null,"code":"import _toConsumableArray from \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/src/components/game.jsx\";\nimport React, { Component } from \"react\";\nimport Box from \"./box\";\nimport Button from \"./button\";\n\nvar Game =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Game, _Component);\n\n  function Game() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Game)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      boxes: [{\n        id: 1,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 2,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 3,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 4,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 5,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 6,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 7,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 8,\n        value: \"\",\n        clicked: false\n      }, {\n        id: 9,\n        value: \"\",\n        clicked: false\n      }],\n      X_turn: true,\n      X_pos: [],\n      O_pos: [],\n      win_poses: [[1, 2, 3], [4, 5, 6], [7, 8, 9], [1, 4, 7], [2, 5, 8], [3, 6, 9], [1, 5, 9], [3, 5, 7]]\n    };\n\n    _this.handleClick = function (box) {\n      if (!box.clicked) {\n        var X_turn = _this.state.X_turn;\n\n        var boxes = _toConsumableArray(_this.state.boxes);\n\n        var index = boxes.indexOf(box);\n        boxes[index].clicked = true;\n        boxes[index].value = _this.state.X_turn ? \"X\" : \"O\";\n        var pos = box.id;\n\n        var X_pos = _toConsumableArray(_this.state.X_pos);\n\n        var O_pos = _toConsumableArray(_this.state.O_pos);\n\n        if (X_turn) {\n          X_pos.push(pos);\n        } else {\n          O_pos.push(pos);\n        }\n\n        var gameOver = false;\n\n        if (X_turn) {\n          gameOver = _this.state.win_poses.some(function (v1) {\n            return v1.every(function (v2) {\n              return X_pos.indexOf(v2) !== -1;\n            });\n          });\n        } else {\n          gameOver = _this.state.win_poses.some(function (v1) {\n            return v1.every(function (v2) {\n              return O_pos.indexOf(v2) !== -1;\n            });\n          });\n        }\n\n        if (gameOver) {\n          var winner = X_turn ? \"X\" : \"O\";\n          console.log(\"Winner is \", winner);\n\n          var _boxes = _this.state.boxes.map(function (box) {\n            box.clicked = true;\n            return box;\n          });\n\n          _this.setState({\n            boxes: _boxes\n          });\n        } else if (X_pos.length + O_pos.length === 9) {\n          console.log(\"Draw!\");\n        }\n\n        X_turn = !X_turn;\n        var totalLength = X_pos.length + O_pos.length;\n\n        var history = _toConsumableArray(_this.state.history);\n\n        history.splice(totalLength, history.length - totalLength - 1);\n        history.push({\n          move: totalLength,\n          boxes: boxes,\n          X_turn: X_turn,\n          X_pos: X_pos,\n          O_pos: O_pos\n        });\n\n        _this.setState({\n          boxes: boxes,\n          X_turn: X_turn,\n          X_pos: X_pos,\n          O_pos: O_pos,\n          history: history\n        });\n      }\n    };\n\n    _this.handleBtnClick = function (hist) {\n      console.log(hist.move);\n      var boxes = hist.boxes;\n      var X_turn = hist.X_turn;\n      var X_pos = hist.X_pos;\n      var O_pos = hist.O_pos;\n\n      _this.setState({\n        boxes: boxes,\n        X_turn: X_turn,\n        X_pos: X_pos,\n        O_pos: O_pos\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Game, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        history: [{\n          move: 0,\n          boxes: this.state.boxes,\n          X_turn: this.state.X_turn,\n          X_pos: this.state.X_pos,\n          O_pos: this.state.O_pos\n        }]\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"game\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, this.state.boxes.map(function (box) {\n        return React.createElement(Box, {\n          key: box.id,\n          onClick: _this2.handleClick,\n          box: box,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, box.value);\n      })), React.createElement(\"div\", {\n        className: \"game-history\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, this.state.history.map(function (hist) {\n        return React.createElement(\"li\", {\n          key: hist.move,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(Button, {\n          hist: hist,\n          onBtnClick: _this2.handleBtnClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }));\n      }))));\n    }\n  }]);\n\n  return Game;\n}(Component);\n\nexport default Game;","map":{"version":3,"sources":["/opt/lampp/htdocs/WebDev/Front End/React.js/ReactJS/tic-tac-toe/src/components/game.jsx"],"names":["React","Component","Box","Button","Game","state","boxes","id","value","clicked","X_turn","X_pos","O_pos","win_poses","handleClick","box","index","indexOf","pos","push","gameOver","some","v1","every","v2","winner","console","log","map","setState","length","totalLength","history","splice","move","handleBtnClick","hist"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Box from \"./box\";\nimport Button from \"./button\";\n\nclass Game extends Component {\n  state = {\n    boxes: [\n      { id: 1, value: \"\", clicked: false },\n      { id: 2, value: \"\", clicked: false },\n      { id: 3, value: \"\", clicked: false },\n      { id: 4, value: \"\", clicked: false },\n      { id: 5, value: \"\", clicked: false },\n      { id: 6, value: \"\", clicked: false },\n      { id: 7, value: \"\", clicked: false },\n      { id: 8, value: \"\", clicked: false },\n      { id: 9, value: \"\", clicked: false }\n    ],\n    X_turn: true,\n    X_pos: [],\n    O_pos: [],\n    win_poses: [\n      [1, 2, 3],\n      [4, 5, 6],\n      [7, 8, 9],\n      [1, 4, 7],\n      [2, 5, 8],\n      [3, 6, 9],\n      [1, 5, 9],\n      [3, 5, 7]\n    ]\n  };\n  componentWillMount() {\n    this.setState({\n      history: [\n        {\n          move: 0,\n          boxes: this.state.boxes,\n          X_turn: this.state.X_turn,\n          X_pos: this.state.X_pos,\n          O_pos: this.state.O_pos\n        }\n      ]\n    });\n  }\n  handleClick = box => {\n    if (!box.clicked) {\n      let X_turn = this.state.X_turn;\n      let boxes = [...this.state.boxes];\n      const index = boxes.indexOf(box);\n      boxes[index].clicked = true;\n      boxes[index].value = this.state.X_turn ? \"X\" : \"O\";\n\n      let pos = box.id;\n      let X_pos = [...this.state.X_pos];\n      let O_pos = [...this.state.O_pos];\n      if (X_turn) {\n        X_pos.push(pos);\n      } else {\n        O_pos.push(pos);\n      }\n\n      let gameOver = false;\n      if (X_turn) {\n        gameOver = this.state.win_poses.some(v1 =>\n          v1.every(v2 => X_pos.indexOf(v2) !== -1)\n        );\n      } else {\n        gameOver = this.state.win_poses.some(v1 =>\n          v1.every(v2 => O_pos.indexOf(v2) !== -1)\n        );\n      }\n\n      if (gameOver) {\n        let winner = X_turn ? \"X\" : \"O\";\n        console.log(\"Winner is \", winner);\n        let boxes = this.state.boxes.map(box => {\n          box.clicked = true;\n          return box;\n        });\n        this.setState({ boxes });\n      } else if (X_pos.length + O_pos.length === 9) {\n        console.log(\"Draw!\");\n      }\n\n      X_turn = !X_turn;\n      let totalLength = X_pos.length + O_pos.length;\n\n      let history = [...this.state.history];\n      history.splice(totalLength, history.length - totalLength - 1);\n      history.push({\n        move: totalLength,\n        boxes: boxes,\n        X_turn: X_turn,\n        X_pos: X_pos,\n        O_pos: O_pos\n      });\n\n      this.setState({ boxes, X_turn, X_pos, O_pos, history });\n    }\n  };\n  handleBtnClick = hist => {\n    console.log(hist.move);\n    let boxes = hist.boxes;\n    let X_turn = hist.X_turn;\n    let X_pos = hist.X_pos;\n    let O_pos = hist.O_pos;\n    this.setState({ boxes, X_turn, X_pos, O_pos });\n  };\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"game\">\n          {this.state.boxes.map(box => (\n            <Box key={box.id} onClick={this.handleClick} box={box}>\n              {box.value}\n            </Box>\n          ))}\n        </div>\n        <div className=\"game-history\">\n          <ul>\n            {this.state.history.map(hist => (\n              <li key={hist.move}>\n                <Button hist={hist} onBtnClick={this.handleBtnClick} />\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}